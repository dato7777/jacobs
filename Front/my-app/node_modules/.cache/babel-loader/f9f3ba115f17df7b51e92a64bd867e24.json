{"ast":null,"code":"// A mock function to mimic making an async request for data\n// async (2)\nimport axios from \"axios\";\nconst URL_ADD = \"http://127.0.0.1:8000/addproduct/\";\nconst URL_PRODS = \"http://127.0.0.1:8000/getproducts/\";\nconst DEL_PROD = \"http://127.0.0.1:8000/deleteproduct/\";\nconst UPD_PROD = \"http://127.0.0.1:8000/updateproduct/\";\nexport function addProduct(action) {\n  const data = {\n    'user': action.userID,\n    'prod_desc': action.productDesc,\n    'catg_id': action.productCatID,\n    'prod_price': action.productPrice,\n    'image': action.myImage\n  };\n  token = token.replace(/\"/g, '');\n  return new Promise(resolve => axios.post(URL_ADD, data, {\n    headers: {\n      'Authorization': `Bearer ${token}`,\n      'Content-Type': 'multipart/form-data'\n    }\n  }).then(res => resolve({\n    data: res.data\n  })));\n}\nexport function getProducts(catId) {\n  return new Promise(resolve => axios(URL_PRODS + catId).then(res => resolve({\n    data: res.data\n  })));\n}\nexport function deleteProduct(prodID, token) {\n  token = token.replace(/\"/g, '');\n  return new Promise(resolve => axios.delete(DEL_PROD + prodID, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  }).then(res => resolve({\n    prodID\n  })));\n}\nexport function updateProduct(prodID, newPrice, token) {\n  token = token.replace(/\"/g, '');\n  return new Promise(resolve => axios.put(UPD_PROD + prodID, {\n    price: newPrice\n  }, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  }).then(res => resolve({\n    data: res.data\n  })));\n}","map":{"version":3,"names":["axios","URL_ADD","URL_PRODS","DEL_PROD","UPD_PROD","addProduct","action","data","userID","productDesc","productCatID","productPrice","myImage","token","replace","Promise","resolve","post","headers","then","res","getProducts","catId","deleteProduct","prodID","delete","updateProduct","newPrice","put","price"],"sources":["/Users/dato/My Python Stuff/lastdayproject2/Jacobs-Dreams/Front/my-app/src/app/pages/ProductAPI .js"],"sourcesContent":["// A mock function to mimic making an async request for data\n// async (2)\nimport axios from \"axios\";\nconst URL_ADD = \"http://127.0.0.1:8000/addproduct/\"\nconst URL_PRODS = \"http://127.0.0.1:8000/getproducts/\"\nconst DEL_PROD = \"http://127.0.0.1:8000/deleteproduct/\"\nconst UPD_PROD = \"http://127.0.0.1:8000/updateproduct/\"\n\nexport function addProduct(action) {\n  const data = {\n    'user':action.userID,\n    'prod_desc': action.productDesc,\n    'catg_id': action.productCatID,\n    'prod_price': action.productPrice,\n    'image': action.myImage,\n    \n}\n  token=token.replace(/\"/g, '')\n  \n  return new Promise((resolve) =>\n    axios.post(URL_ADD, data, {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then((res) => resolve({ data: res.data }))\n  );\n}\n\nexport function getProducts(catId) {\n  \n  return new Promise((resolve) =>\n    axios(URL_PRODS + catId).then((res) => resolve({ data: res.data }))\n    \n  );\n}\nexport function deleteProduct(prodID,token) {\n  token=token.replace(/\"/g, '')\n  return new Promise((resolve) =>\n  axios.delete(DEL_PROD+prodID, {\n      headers: {\n          'Authorization': `Bearer ${token}`\n      }\n  }).then((res) => resolve({ prodID}))\n  );\n}\nexport function updateProduct(prodID,newPrice, token) {\n  token=token.replace(/\"/g, '')\n  return new Promise((resolve) =>\n  axios.put(UPD_PROD+prodID, { price:newPrice }, {\n      headers: {\n          'Authorization': `Bearer ${token}`\n      }\n  }).then((res) => resolve({ data:res.data}))\n  );\n}\n"],"mappings":"AAAA;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,OAAO,GAAG,mCAAhB;AACA,MAAMC,SAAS,GAAG,oCAAlB;AACA,MAAMC,QAAQ,GAAG,sCAAjB;AACA,MAAMC,QAAQ,GAAG,sCAAjB;AAEA,OAAO,SAASC,UAAT,CAAoBC,MAApB,EAA4B;EACjC,MAAMC,IAAI,GAAG;IACX,QAAOD,MAAM,CAACE,MADH;IAEX,aAAaF,MAAM,CAACG,WAFT;IAGX,WAAWH,MAAM,CAACI,YAHP;IAIX,cAAcJ,MAAM,CAACK,YAJV;IAKX,SAASL,MAAM,CAACM;EALL,CAAb;EAQAC,KAAK,GAACA,KAAK,CAACC,OAAN,CAAc,IAAd,EAAoB,EAApB,CAAN;EAEA,OAAO,IAAIC,OAAJ,CAAaC,OAAD,IACjBhB,KAAK,CAACiB,IAAN,CAAWhB,OAAX,EAAoBM,IAApB,EAA0B;IACxBW,OAAO,EAAE;MACP,iBAAkB,UAASL,KAAM,EAD1B;MAEP,gBAAgB;IAFT;EADe,CAA1B,EAKGM,IALH,CAKSC,GAAD,IAASJ,OAAO,CAAC;IAAET,IAAI,EAAEa,GAAG,CAACb;EAAZ,CAAD,CALxB,CADK,CAAP;AAQD;AAED,OAAO,SAASc,WAAT,CAAqBC,KAArB,EAA4B;EAEjC,OAAO,IAAIP,OAAJ,CAAaC,OAAD,IACjBhB,KAAK,CAACE,SAAS,GAAGoB,KAAb,CAAL,CAAyBH,IAAzB,CAA+BC,GAAD,IAASJ,OAAO,CAAC;IAAET,IAAI,EAAEa,GAAG,CAACb;EAAZ,CAAD,CAA9C,CADK,CAAP;AAID;AACD,OAAO,SAASgB,aAAT,CAAuBC,MAAvB,EAA8BX,KAA9B,EAAqC;EAC1CA,KAAK,GAACA,KAAK,CAACC,OAAN,CAAc,IAAd,EAAoB,EAApB,CAAN;EACA,OAAO,IAAIC,OAAJ,CAAaC,OAAD,IACnBhB,KAAK,CAACyB,MAAN,CAAatB,QAAQ,GAACqB,MAAtB,EAA8B;IAC1BN,OAAO,EAAE;MACL,iBAAkB,UAASL,KAAM;IAD5B;EADiB,CAA9B,EAIGM,IAJH,CAISC,GAAD,IAASJ,OAAO,CAAC;IAAEQ;EAAF,CAAD,CAJxB,CADO,CAAP;AAOD;AACD,OAAO,SAASE,aAAT,CAAuBF,MAAvB,EAA8BG,QAA9B,EAAwCd,KAAxC,EAA+C;EACpDA,KAAK,GAACA,KAAK,CAACC,OAAN,CAAc,IAAd,EAAoB,EAApB,CAAN;EACA,OAAO,IAAIC,OAAJ,CAAaC,OAAD,IACnBhB,KAAK,CAAC4B,GAAN,CAAUxB,QAAQ,GAACoB,MAAnB,EAA2B;IAAEK,KAAK,EAACF;EAAR,CAA3B,EAA+C;IAC3CT,OAAO,EAAE;MACL,iBAAkB,UAASL,KAAM;IAD5B;EADkC,CAA/C,EAIGM,IAJH,CAISC,GAAD,IAASJ,OAAO,CAAC;IAAET,IAAI,EAACa,GAAG,CAACb;EAAX,CAAD,CAJxB,CADO,CAAP;AAOD"},"metadata":{},"sourceType":"module"}