{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit'; // import { addProduct, getProducts, deleteProduct } from './ProductAPI ';\n// import { addProductAsync, selectProducts, getProductsAsync } from './ProductsSlice'\n\nconst initialState = {\n  myCartItemsCount: 0,\n  myCartItems: [],\n  itemsQuantity: 1\n};\nexport const ShoppingCartSlice = createSlice({\n  name: 'cartItems',\n  initialState,\n  reducers: {\n    addCartCount: (state, action) => {\n      state.myCartItemsCount += 1;\n      state.myCartItems = JSON.parse(localStorage.getItem('cartItems'));\n      state.myCartItems.push(action.payload);\n      localStorage.setItem(\"cartItems\", JSON.stringify(state.myCartItems));\n    },\n    plusItemsQuantity: (state, action, item) => {\n      let cartItems = JSON.parse(localStorage.getItem('cartItems'));\n\n      for (let index = 0; index < cartItems.length; index++) {\n        const element = cartItems[index];\n\n        if (element.Product_ID === action.payload) {\n          cartItems[index].Product_quantity += 1; //item.amount\n\n          element.Product_cost = element.Product_price * element.Product_quantity;\n          localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n        }\n      }\n    },\n    minusItemsQuantity: (state, action) => {\n      let cartItems = JSON.parse(localStorage.getItem('cartItems'));\n\n      for (let index = 0; index < cartItems.length; index++) {\n        const element = cartItems[index];\n\n        if (element.Product_ID === action.payload) {\n          cartItems[index].Product_quantity -= 1; //item.amount\n\n          element.Product_cost = element.Product_price * element.Product_quantity;\n          localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n\n          if (element.Product_quantity === 0) {\n            state.myCartItemsCount -= 1;\n            localStorage.setItem(\"cartItems\", JSON.stringify(JSON.parse(localStorage.getItem(\"cartItems\")).filter(e => e.Product_ID !== action.payload)));\n          }\n        }\n      }\n    },\n    delCartItem: (state, action) => {\n      state.myCartItems = JSON.parse(localStorage.getItem(\"cartItems\")).filter(e => e.Product_ID !== action.payload);\n      localStorage.setItem(\"cartItems\", JSON.stringify(state.myCartItems));\n      state.myCartItemsCount -= 1;\n    }\n  },\n  // happens when async is done - callback\n  // async (3)\n  extraReducers: builder => {}\n}); // export of sync methods only\n\nexport const {\n  addCartCount,\n  plusItemsQuantity,\n  minusItemsQuantity,\n  delCartItem\n} = ShoppingCartSlice.actions; // export of any part of the state\n\nexport const selectCartItemsCount = state => state.cartItems.myCartItemsCount;\nexport const selectCartItems = state => state.cartItems.myCartItems;\nexport const selectItemsQuantity = state => state.cartItems.itemsQuantity;\nexport default ShoppingCartSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","myCartItemsCount","myCartItems","itemsQuantity","ShoppingCartSlice","name","reducers","addCartCount","state","action","JSON","parse","localStorage","getItem","push","payload","setItem","stringify","plusItemsQuantity","item","cartItems","index","length","element","Product_ID","Product_quantity","Product_cost","Product_price","minusItemsQuantity","filter","e","delCartItem","extraReducers","builder","actions","selectCartItemsCount","selectCartItems","selectItemsQuantity","reducer"],"sources":["/Users/dato/My Python Stuff/lastdayproject2/Jacobs-Dreams/Front/my-app/src/app/pages/ShoppingCartSlice.js"],"sourcesContent":["import {createSlice } from '@reduxjs/toolkit';\n// import { addProduct, getProducts, deleteProduct } from './ProductAPI ';\n// import { addProductAsync, selectProducts, getProductsAsync } from './ProductsSlice'\n\nconst initialState =  {\n  myCartItemsCount: 0,\n  myCartItems: [],\n  itemsQuantity: 1\n}\nexport const ShoppingCartSlice = createSlice({\n\n  name: 'cartItems',\n  initialState,\n  reducers: {\n    addCartCount: (state, action) => {\n      state.myCartItemsCount += 1;\n      state.myCartItems = JSON.parse(localStorage.getItem('cartItems'))\n      state.myCartItems.push(action.payload)\n      localStorage.setItem(\"cartItems\", JSON.stringify(state.myCartItems));\n    },\n    plusItemsQuantity: (state, action, item) => {\n      let cartItems = JSON.parse(localStorage.getItem('cartItems'))\n      for (let index = 0; index < cartItems.length; index++) {\n        const element = cartItems[index];\n\n        if (element.Product_ID === action.payload) {\n          cartItems[index].Product_quantity += 1 //item.amount\n          element.Product_cost = element.Product_price * element.Product_quantity\n          localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n\n        }\n      }\n\n    },\n    minusItemsQuantity: (state, action) => {\n      let cartItems = JSON.parse(localStorage.getItem('cartItems'))\n      for (let index = 0; index < cartItems.length; index++) {\n        const element = cartItems[index];\n        if (element.Product_ID === action.payload) {\n          cartItems[index].Product_quantity -= 1 //item.amount\n          element.Product_cost = element.Product_price * element.Product_quantity\n          localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n          if (element.Product_quantity === 0) {\n            state.myCartItemsCount -= 1;\n            localStorage.setItem(\"cartItems\", JSON.stringify(JSON.parse(localStorage.getItem(\"cartItems\")).filter(e => e.Product_ID !== action.payload)));\n          }\n        }\n      }\n\n    },\n    delCartItem: (state, action) => {\n      state.myCartItems = (JSON.parse(localStorage.getItem(\"cartItems\")).filter(e => e.Product_ID !== action.payload))\n      localStorage.setItem(\"cartItems\", JSON.stringify(state.myCartItems));\n      state.myCartItemsCount -= 1;\n    }\n  },\n  // happens when async is done - callback\n  // async (3)\n  extraReducers: (builder) => {\n\n  },\n});\n// export of sync methods only\nexport const { addCartCount, plusItemsQuantity, minusItemsQuantity, delCartItem } = ShoppingCartSlice.actions;\n\n// export of any part of the state\n\nexport const selectCartItemsCount = (state) => state.cartItems.myCartItemsCount;\nexport const selectCartItems = (state) => state.cartItems.myCartItems;\nexport const selectItemsQuantity = (state) => state.cartItems.itemsQuantity\nexport default ShoppingCartSlice.reducer;\n"],"mappings":"AAAA,SAAQA,WAAR,QAA2B,kBAA3B,C,CACA;AACA;;AAEA,MAAMC,YAAY,GAAI;EACpBC,gBAAgB,EAAE,CADE;EAEpBC,WAAW,EAAE,EAFO;EAGpBC,aAAa,EAAE;AAHK,CAAtB;AAKA,OAAO,MAAMC,iBAAiB,GAAGL,WAAW,CAAC;EAE3CM,IAAI,EAAE,WAFqC;EAG3CL,YAH2C;EAI3CM,QAAQ,EAAE;IACRC,YAAY,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC/BD,KAAK,CAACP,gBAAN,IAA0B,CAA1B;MACAO,KAAK,CAACN,WAAN,GAAoBQ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAApB;MACAL,KAAK,CAACN,WAAN,CAAkBY,IAAlB,CAAuBL,MAAM,CAACM,OAA9B;MACAH,YAAY,CAACI,OAAb,CAAqB,WAArB,EAAkCN,IAAI,CAACO,SAAL,CAAeT,KAAK,CAACN,WAArB,CAAlC;IACD,CANO;IAORgB,iBAAiB,EAAE,CAACV,KAAD,EAAQC,MAAR,EAAgBU,IAAhB,KAAyB;MAC1C,IAAIC,SAAS,GAAGV,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAhB;;MACA,KAAK,IAAIQ,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGD,SAAS,CAACE,MAAtC,EAA8CD,KAAK,EAAnD,EAAuD;QACrD,MAAME,OAAO,GAAGH,SAAS,CAACC,KAAD,CAAzB;;QAEA,IAAIE,OAAO,CAACC,UAAR,KAAuBf,MAAM,CAACM,OAAlC,EAA2C;UACzCK,SAAS,CAACC,KAAD,CAAT,CAAiBI,gBAAjB,IAAqC,CAArC,CADyC,CACF;;UACvCF,OAAO,CAACG,YAAR,GAAuBH,OAAO,CAACI,aAAR,GAAwBJ,OAAO,CAACE,gBAAvD;UACAb,YAAY,CAACI,OAAb,CAAqB,WAArB,EAAkCN,IAAI,CAACO,SAAL,CAAeG,SAAf,CAAlC;QAED;MACF;IAEF,CApBO;IAqBRQ,kBAAkB,EAAE,CAACpB,KAAD,EAAQC,MAAR,KAAmB;MACrC,IAAIW,SAAS,GAAGV,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAhB;;MACA,KAAK,IAAIQ,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGD,SAAS,CAACE,MAAtC,EAA8CD,KAAK,EAAnD,EAAuD;QACrD,MAAME,OAAO,GAAGH,SAAS,CAACC,KAAD,CAAzB;;QACA,IAAIE,OAAO,CAACC,UAAR,KAAuBf,MAAM,CAACM,OAAlC,EAA2C;UACzCK,SAAS,CAACC,KAAD,CAAT,CAAiBI,gBAAjB,IAAqC,CAArC,CADyC,CACF;;UACvCF,OAAO,CAACG,YAAR,GAAuBH,OAAO,CAACI,aAAR,GAAwBJ,OAAO,CAACE,gBAAvD;UACAb,YAAY,CAACI,OAAb,CAAqB,WAArB,EAAkCN,IAAI,CAACO,SAAL,CAAeG,SAAf,CAAlC;;UACA,IAAIG,OAAO,CAACE,gBAAR,KAA6B,CAAjC,EAAoC;YAClCjB,KAAK,CAACP,gBAAN,IAA0B,CAA1B;YACAW,YAAY,CAACI,OAAb,CAAqB,WAArB,EAAkCN,IAAI,CAACO,SAAL,CAAeP,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,EAA8CgB,MAA9C,CAAqDC,CAAC,IAAIA,CAAC,CAACN,UAAF,KAAiBf,MAAM,CAACM,OAAlF,CAAf,CAAlC;UACD;QACF;MACF;IAEF,CApCO;IAqCRgB,WAAW,EAAE,CAACvB,KAAD,EAAQC,MAAR,KAAmB;MAC9BD,KAAK,CAACN,WAAN,GAAqBQ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,EAA8CgB,MAA9C,CAAqDC,CAAC,IAAIA,CAAC,CAACN,UAAF,KAAiBf,MAAM,CAACM,OAAlF,CAArB;MACAH,YAAY,CAACI,OAAb,CAAqB,WAArB,EAAkCN,IAAI,CAACO,SAAL,CAAeT,KAAK,CAACN,WAArB,CAAlC;MACAM,KAAK,CAACP,gBAAN,IAA0B,CAA1B;IACD;EAzCO,CAJiC;EA+C3C;EACA;EACA+B,aAAa,EAAGC,OAAD,IAAa,CAE3B;AAnD0C,CAAD,CAArC,C,CAqDP;;AACA,OAAO,MAAM;EAAE1B,YAAF;EAAgBW,iBAAhB;EAAmCU,kBAAnC;EAAuDG;AAAvD,IAAuE3B,iBAAiB,CAAC8B,OAA/F,C,CAEP;;AAEA,OAAO,MAAMC,oBAAoB,GAAI3B,KAAD,IAAWA,KAAK,CAACY,SAAN,CAAgBnB,gBAAxD;AACP,OAAO,MAAMmC,eAAe,GAAI5B,KAAD,IAAWA,KAAK,CAACY,SAAN,CAAgBlB,WAAnD;AACP,OAAO,MAAMmC,mBAAmB,GAAI7B,KAAD,IAAWA,KAAK,CAACY,SAAN,CAAgBjB,aAAvD;AACP,eAAeC,iBAAiB,CAACkC,OAAjC"},"metadata":{},"sourceType":"module"}