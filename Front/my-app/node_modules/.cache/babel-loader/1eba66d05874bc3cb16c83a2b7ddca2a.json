{"ast":null,"code":"var _jsxFileName = \"/Users/dato/My Python Stuff/lastdayproject2/Jacobs-Dreams/Front/my-app/src/app/components/MyCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport '../Styles/CardStyle.css';\nimport { selectProducts, getProductsAsync, deleteProductAsync } from '../pages/ProductsSlice';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { selectStaff, selectToken } from '../pages/LoginSlice';\nimport 'animate.css';\nimport { addFavCount } from '../pages/FavouritesSlice';\nimport { addCartCount, selectItemsQuantity } from '../pages/ShoppingCartSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MyCard = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const token = useSelector(selectToken);\n  const itemsQuantity = useSelector(selectItemsQuantity);\n  const allProds = useSelector(selectProducts);\n  let favourites = JSON.parse(localStorage.getItem('favourites'));\n  let cartItems = JSON.parse(localStorage.getItem('cartItems'));\n  let params = useParams();\n  let id = params.id;\n  useEffect(() => {\n    dispatch(getProductsAsync(id));\n  }, [id]);\n  const isStaff = useSelector(selectStaff);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row row-eq-height\",\n        children: allProds.map(prod =>\n        /*#__PURE__*/\n        // configuring card items per row and column \n        _jsxDEV(\"div\", {\n          className: \"col-12 col-md-6 col-lg-4 col-xl-3 mb-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-card h-100 mb-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"product-card__content\",\n              href: \"#\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"product-card__img\",\n                style: {\n                  backgroundImage: `url(http://127.0.0.1:8000${prod.image})`\n                },\n                children: \" \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 38,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"product-card__title\",\n                children: prod.prod_desc\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 39,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"product-card__price\",\n                children: [\"\\u20AA\", prod.prod_price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 42,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-card__actions\",\n              children: [cartItems !== null && // if shopping cart does not include the following item, then ...\n              cartItems.map(e => e.Product_ID).includes(prod._id) === false ? /*#__PURE__*/_jsxDEV(Link, {\n                className: \"product-card__btn mr-3\",\n                to: \"#\" // add this item to shopping cart \n                ,\n                onClick: () => dispatch(addCartCount({\n                  Product_ID: prod._id,\n                  Product_desc: prod.prod_desc,\n                  Category_ID: prod.catg_id,\n                  Product_quantity: itemsQuantity,\n                  Product_price: prod.prod_price,\n                  Product_cost: prod.prod_price,\n                  Product_image: prod.image\n                })),\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-plus mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 45\n                }, this), \"Add to Cart\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 41\n              }, this) :\n              /*#__PURE__*/\n              // if shopping cart includes the item then show unclickable button which says already added...\n              _jsxDEV(\"span\", {\n                className: \"fa-stack fa-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-plus mr-2 fa-stack-1x\",\n                  style: {\n                    color: \"#fb6969\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-ban fa-stack-2x\",\n                  style: {\n                    color: \"#fb6969\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 41\n              }, this), favourites !== null && // if favourites list includes the following item, then ..\n              favourites.map(e => e.Product_ID).includes(prod._id) === true ?\n              /*#__PURE__*/\n              // show the unclickable button indicating it already exists in the favourites list \n              _jsxDEV(\"span\", {\n                className: \"fa-stack fa-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-heart fa-stack-1x\",\n                  style: {\n                    color: \"#fb6969\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-ban fa-stack-2x\",\n                  style: {\n                    color: \"#fb6969\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 41\n              }, this) :\n              /*#__PURE__*/\n              // if there is no item like this in the favourites, then just add it to the list \n              _jsxDEV(Link, {\n                className: \"product-card__icon-btn\",\n                to: \"#\",\n                onClick: () => dispatch(addFavCount({\n                  Product_ID: prod._id,\n                  Product_desc: prod.prod_desc,\n                  Product_price: prod.prod_price,\n                  Product_image: prod.image\n                })),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-heart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 41\n              }, this), isStaff ? /*#__PURE__*/_jsxDEV(Link, {\n                className: \"product-card__icon-btn\",\n                to: \"#\",\n                onClick: () => dispatch(deleteProductAsync({\n                  prodID: prod._id,\n                  token: token\n                })),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-trash\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 41\n              }, this) : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MyCard, \"SK5LRmFleWar1mGL4y36oUxrxxM=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useParams, useSelector];\n});\n\n_c = MyCard;\nexport default MyCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyCard\");","map":{"version":3,"names":["React","useEffect","Link","useParams","selectProducts","getProductsAsync","deleteProductAsync","useSelector","useDispatch","selectStaff","selectToken","addFavCount","addCartCount","selectItemsQuantity","MyCard","dispatch","token","itemsQuantity","allProds","favourites","JSON","parse","localStorage","getItem","cartItems","params","id","isStaff","map","prod","backgroundImage","image","prod_desc","prod_price","e","Product_ID","includes","_id","Product_desc","Category_ID","catg_id","Product_quantity","Product_price","Product_cost","Product_image","color","prodID"],"sources":["/Users/dato/My Python Stuff/lastdayproject2/Jacobs-Dreams/Front/my-app/src/app/components/MyCard.js"],"sourcesContent":["import React, { useEffect} from 'react'\nimport {Link, useParams} from 'react-router-dom'\nimport '../Styles/CardStyle.css'\nimport {selectProducts, getProductsAsync, deleteProductAsync } from '../pages/ProductsSlice'\nimport { useSelector, useDispatch } from 'react-redux';\nimport {selectStaff, selectToken } from '../pages/LoginSlice'\nimport 'animate.css';\nimport { addFavCount} from '../pages/FavouritesSlice'\nimport { addCartCount ,selectItemsQuantity} from '../pages/ShoppingCartSlice'\n\nconst MyCard = () => {\n    const dispatch = useDispatch();\n    const token = useSelector(selectToken);\n    const itemsQuantity =useSelector(selectItemsQuantity)\n    const allProds = useSelector(selectProducts);\n    let favourites = JSON.parse(localStorage.getItem('favourites'))\n    let cartItems = JSON.parse(localStorage.getItem('cartItems'))\n    let params = useParams();\n    let id = params.id;\n    \n    useEffect(() => {\n        dispatch(getProductsAsync(id))\n    }, [id])\n\n    const isStaff = useSelector(selectStaff)\n\n    return (\n        <div >\n            <div className=\"container my-5\" >\n                <div className=\"row row-eq-height\">\n                    {/* starts to iterate through my prods    */}\n                    {allProds.map(prod => (\n                        // configuring card items per row and column \n                        <div className=\"col-12 col-md-6 col-lg-4 col-xl-3 mb-5\" >\n                            {/* starts the iteration through cards  */}\n                            <div className=\"product-card h-100 mb-0\" >\n                                <a className=\"product-card__content\" href=\"#\" >\n                                    <span className=\"product-card__img\" style={{ backgroundImage: `url(http://127.0.0.1:8000${prod.image})` }}> </span>\n                                    <span className=\"product-card__title\">\n                                        {prod.prod_desc}\n                                    </span>\n                                    <span className=\"product-card__price\">\n                                        â‚ª{prod.prod_price}\n                                    </span>\n                                </a>\n                                <div className=\"product-card__actions\">\n                                    {/* if shopping cart is not empty  */}\n                                    {cartItems !== null &&\n                                            // if shopping cart does not include the following item, then ...\n                                        (cartItems.map(e => e.Product_ID)).includes(prod._id) === false ?\n                                        <Link className=\"product-card__btn mr-3\"\n                                            to=\"#\"\n                                                    // add this item to shopping cart \n                                            onClick={() => dispatch\n                                                (addCartCount(\n                                                    { Product_ID: prod._id, Product_desc: prod.prod_desc, Category_ID: prod.catg_id, Product_quantity: itemsQuantity, Product_price: prod.prod_price, Product_cost:prod.prod_price, Product_image: prod.image }))} >\n                                                    {/* show button of \"add to cart\" before clicking on it  */}\n                                            <i className=\"fas fa-plus mr-2\"></i>\n                                            Add to Cart\n                                        </Link> :\n                                            // if shopping cart includes the item then show unclickable button which says already added...\n                                        <span className='fa-stack fa-lg'>\n                                            <i className='fas fa-plus mr-2 fa-stack-1x' style={{ color: \"#fb6969\" }}></i>\n                                            <i className='fas fa-ban fa-stack-2x' style={{ color: \"#fb6969\" }}></i>\n                                        </span>}\n                                    {/* if favourites list is not empty  */}\n                                    {favourites !== null &&\n                                        // if favourites list includes the following item, then ..\n                                        (favourites.map(e => e.Product_ID)).includes(prod._id) === true ?\n                                        // show the unclickable button indicating it already exists in the favourites list \n                                        <span className='fa-stack fa-lg'>\n                                            <i className='fas fa-heart fa-stack-1x' style={{ color: \"#fb6969\" }}></i>\n                                            <i className='fas fa-ban fa-stack-2x' style={{ color: \"#fb6969\" }}></i>\n                                        </span> :\n                                        // if there is no item like this in the favourites, then just add it to the list \n                                        <Link className=\"product-card__icon-btn\"\n                                            to=\"#\"\n                                            onClick={() => dispatch\n                                                (addFavCount(\n                                                    { Product_ID: prod._id, Product_desc: prod.prod_desc, Product_price: prod.prod_price, Product_image: prod.image }))} >\n                                            <i className=\"fas fa-heart\"></i>\n\n                                        </Link>}\n                                    {/* if staff user is logged in, in \"all products tab\", \"delete\" icon is added to delete the unwanted items  */}\n                                    {isStaff ?\n                                        <Link className=\"product-card__icon-btn\" to=\"#\"\n                                            onClick={() => dispatch(deleteProductAsync({ prodID: prod._id, token: token }))} >\n                                            <i className='fa fa-trash'></i>\n                                        </Link> : \"\"}\n                                </div>\n                            </div>\n                        </div>))}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default MyCard"],"mappings":"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"},"metadata":{},"sourceType":"module"}