{"ast":null,"code":"// A mock function to mimic making an async request for data\n// async (2)\nimport axios from \"axios\";\nconst URL_ADD = \"http://127.0.0.1:8000/addproduct/\";\nconst URL_PRODS = \"http://127.0.0.1:8000/getproducts/\";\nconst DEL_PROD = \"http://127.0.0.1:8000/deleteproduct/\";\nconst UPD_PROD = \"http://127.0.0.1:8000/updateproduct/\";\nexport function addProduct(action) {\n  const data = {\n    'user_id': action.userID,\n    'prod_desc': action.productDesc,\n    'catg_id': action.productCatID,\n    'prod_price': action.productPrice,\n    'image': action.myImage\n  }; // token=action.token.replace(/\"/g, '')\n\n  return new Promise(resolve => axios.post(URL_ADD, data, {\n    headers: {\n      'Authorization': `Bearer ${action.token}`,\n      'Content-Type': 'multipart/form-data'\n    }\n  }).then(res => resolve({\n    data: res.data\n  })));\n} // export function addProduct(token, productDesc, productPrice, productCatID, myImage) {\n//   token=token.replace(/\"/g, '')\n//   // console.log(myImage)\n//   return new Promise((resolve) =>\n//     axios.post(URL_ADD, { descrp: productDesc, priceee: productPrice, categorr: productCatID, myBackImage: myImage }, {\n//       headers: {\n//         'Authorization': `Bearer ${token}`,\n//         'Content-Type': 'multipart/form-data'\n//       }\n//     }).then((res) => resolve({ data: res.data }))\n//   );\n// }\n\nexport function getProducts(catId) {\n  // console.log(\"cat id \",catId)\n  return new Promise(resolve => axios(URL_PRODS + catId).then(res => resolve({\n    data: res.data\n  })));\n}\nexport function deleteProduct(prodID, token) {\n  token = token.replace(/\"/g, '');\n  return new Promise(resolve => axios.delete(DEL_PROD + prodID, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  }).then(res => resolve({\n    prodID\n  })));\n}\nexport function updateProduct(prodID, newPrice, token) {\n  token = token.replace(/\"/g, '');\n  return new Promise(resolve => axios.put(UPD_PROD + prodID, {\n    price: newPrice\n  }, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  }).then(res => resolve({\n    data: res.data\n  })));\n}","map":{"version":3,"names":["axios","URL_ADD","URL_PRODS","DEL_PROD","UPD_PROD","addProduct","action","data","userID","productDesc","productCatID","productPrice","myImage","Promise","resolve","post","headers","token","then","res","getProducts","catId","deleteProduct","prodID","replace","delete","updateProduct","newPrice","put","price"],"sources":["/Users/dato/My Python Stuff/lastdayproject2/Jacobs-Dreams/Front/my-app/src/app/pages/ProductAPI .js"],"sourcesContent":["// A mock function to mimic making an async request for data\n// async (2)\nimport axios from \"axios\";\nconst URL_ADD = \"http://127.0.0.1:8000/addproduct/\"\nconst URL_PRODS = \"http://127.0.0.1:8000/getproducts/\"\nconst DEL_PROD = \"http://127.0.0.1:8000/deleteproduct/\"\nconst UPD_PROD = \"http://127.0.0.1:8000/updateproduct/\"\n\nexport function addProduct(action) {\n  const data = {\n    'user_id':action.userID,\n    'prod_desc': action.productDesc,\n    'catg_id': action.productCatID,\n    'prod_price': action.productPrice,\n    'image': action.myImage,\n}\n  // token=action.token.replace(/\"/g, '')\n  \n  return new Promise((resolve) =>\n    axios.post(URL_ADD, data, {\n      headers: {\n        'Authorization': `Bearer ${action.token}`,\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then((res) => resolve({ data: res.data }))\n  );\n}\n// export function addProduct(token, productDesc, productPrice, productCatID, myImage) {\n//   token=token.replace(/\"/g, '')\n//   // console.log(myImage)\n//   return new Promise((resolve) =>\n//     axios.post(URL_ADD, { descrp: productDesc, priceee: productPrice, categorr: productCatID, myBackImage: myImage }, {\n//       headers: {\n//         'Authorization': `Bearer ${token}`,\n//         'Content-Type': 'multipart/form-data'\n//       }\n//     }).then((res) => resolve({ data: res.data }))\n//   );\n// }\nexport function getProducts(catId) {\n  // console.log(\"cat id \",catId)\n  return new Promise((resolve) =>\n    axios(URL_PRODS + catId).then((res) => resolve({ data: res.data }))\n    \n  );\n}\nexport function deleteProduct(prodID,token) {\n  token=token.replace(/\"/g, '')\n  return new Promise((resolve) =>\n  axios.delete(DEL_PROD+prodID, {\n      headers: {\n          'Authorization': `Bearer ${token}`\n      }\n  }).then((res) => resolve({ prodID}))\n  );\n}\nexport function updateProduct(prodID,newPrice, token) {\n  token=token.replace(/\"/g, '')\n  return new Promise((resolve) =>\n  axios.put(UPD_PROD+prodID, { price:newPrice }, {\n      headers: {\n          'Authorization': `Bearer ${token}`\n      }\n  }).then((res) => resolve({ data:res.data}))\n  );\n}\n"],"mappings":"AAAA;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,OAAO,GAAG,mCAAhB;AACA,MAAMC,SAAS,GAAG,oCAAlB;AACA,MAAMC,QAAQ,GAAG,sCAAjB;AACA,MAAMC,QAAQ,GAAG,sCAAjB;AAEA,OAAO,SAASC,UAAT,CAAoBC,MAApB,EAA4B;EACjC,MAAMC,IAAI,GAAG;IACX,WAAUD,MAAM,CAACE,MADN;IAEX,aAAaF,MAAM,CAACG,WAFT;IAGX,WAAWH,MAAM,CAACI,YAHP;IAIX,cAAcJ,MAAM,CAACK,YAJV;IAKX,SAASL,MAAM,CAACM;EALL,CAAb,CADiC,CAQjC;;EAEA,OAAO,IAAIC,OAAJ,CAAaC,OAAD,IACjBd,KAAK,CAACe,IAAN,CAAWd,OAAX,EAAoBM,IAApB,EAA0B;IACxBS,OAAO,EAAE;MACP,iBAAkB,UAASV,MAAM,CAACW,KAAM,EADjC;MAEP,gBAAgB;IAFT;EADe,CAA1B,EAKGC,IALH,CAKSC,GAAD,IAASL,OAAO,CAAC;IAAEP,IAAI,EAAEY,GAAG,CAACZ;EAAZ,CAAD,CALxB,CADK,CAAP;AAQD,C,CACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASa,WAAT,CAAqBC,KAArB,EAA4B;EACjC;EACA,OAAO,IAAIR,OAAJ,CAAaC,OAAD,IACjBd,KAAK,CAACE,SAAS,GAAGmB,KAAb,CAAL,CAAyBH,IAAzB,CAA+BC,GAAD,IAASL,OAAO,CAAC;IAAEP,IAAI,EAAEY,GAAG,CAACZ;EAAZ,CAAD,CAA9C,CADK,CAAP;AAID;AACD,OAAO,SAASe,aAAT,CAAuBC,MAAvB,EAA8BN,KAA9B,EAAqC;EAC1CA,KAAK,GAACA,KAAK,CAACO,OAAN,CAAc,IAAd,EAAoB,EAApB,CAAN;EACA,OAAO,IAAIX,OAAJ,CAAaC,OAAD,IACnBd,KAAK,CAACyB,MAAN,CAAatB,QAAQ,GAACoB,MAAtB,EAA8B;IAC1BP,OAAO,EAAE;MACL,iBAAkB,UAASC,KAAM;IAD5B;EADiB,CAA9B,EAIGC,IAJH,CAISC,GAAD,IAASL,OAAO,CAAC;IAAES;EAAF,CAAD,CAJxB,CADO,CAAP;AAOD;AACD,OAAO,SAASG,aAAT,CAAuBH,MAAvB,EAA8BI,QAA9B,EAAwCV,KAAxC,EAA+C;EACpDA,KAAK,GAACA,KAAK,CAACO,OAAN,CAAc,IAAd,EAAoB,EAApB,CAAN;EACA,OAAO,IAAIX,OAAJ,CAAaC,OAAD,IACnBd,KAAK,CAAC4B,GAAN,CAAUxB,QAAQ,GAACmB,MAAnB,EAA2B;IAAEM,KAAK,EAACF;EAAR,CAA3B,EAA+C;IAC3CX,OAAO,EAAE;MACL,iBAAkB,UAASC,KAAM;IAD5B;EADkC,CAA/C,EAIGC,IAJH,CAISC,GAAD,IAASL,OAAO,CAAC;IAAEP,IAAI,EAACY,GAAG,CAACZ;EAAX,CAAD,CAJxB,CADO,CAAP;AAOD"},"metadata":{},"sourceType":"module"}