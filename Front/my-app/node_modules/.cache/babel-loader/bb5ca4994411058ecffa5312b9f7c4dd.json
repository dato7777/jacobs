{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { addOrder, getOrders, getOrderDetails } from './OrderAPI '; // state-data (initial data)\n\nconst initialState = {\n  myorders: [],\n  myOrderDetails: [],\n  localStorageInit: []\n};\nexport const addOrderAsync = createAsyncThunk('orders/addOrder', async data => {\n  const response = await addOrder(data.token, data.myCartItems, data.subtotal, data.discount, data.orderTotal);\n  return response.data;\n});\nexport const getOrdersAsync = createAsyncThunk('orders/getOrders', async data => {\n  const response = await getOrders(data.token);\n  return response.data;\n});\nexport const getOrderDetailsAsync = createAsyncThunk('orders/getOrderDetails', async data => {\n  const response = await getOrderDetails(data.token);\n  return response.data;\n});\nexport const OrderSlice = createSlice({\n  name: 'orders',\n  initialState,\n  reducers: {\n    clearCart: () => {\n      localStorage.setItem(\"cartItems\", JSON.stringify([]));\n    },\n    pushToOrders: state => {}\n  },\n  // happens when async is done - callback\n  // async (3)\n  extraReducers: builder => {\n    builder.addCase(addOrderAsync.fulfilled, (state, action) => {}).addCase(getOrdersAsync.fulfilled, (state, action) => {\n      state.myorders = action.payload;\n    }).addCase(getOrderDetailsAsync.fulfilled, (state, action) => {\n      state.myOrderDetails = action.payload;\n    });\n  }\n}); // export of sync methods only\n\nexport const {\n  clearCart\n} = OrderSlice.actions; // export of any part of the state\n\nexport const selectorders = state => state.orders.myorders;\nexport const selectorderdetails = state => state.orders.myOrderDetails;\nexport default OrderSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","addOrder","getOrders","getOrderDetails","initialState","myorders","myOrderDetails","localStorageInit","addOrderAsync","data","response","token","myCartItems","subtotal","discount","orderTotal","getOrdersAsync","getOrderDetailsAsync","OrderSlice","name","reducers","clearCart","localStorage","setItem","JSON","stringify","pushToOrders","state","extraReducers","builder","addCase","fulfilled","action","payload","actions","selectorders","orders","selectorderdetails","reducer"],"sources":["/Users/dato/My Python Stuff/lastdayproject2/Jacobs-Dreams/Front/my-app/src/app/pages/orders/OrderSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { addOrder,getOrders,getOrderDetails} from './OrderAPI ';\n\n\n// state-data (initial data)\nconst initialState = {\n  myorders: [],\n  myOrderDetails: [],\n  localStorageInit:[]\n};\n\n\nexport const addOrderAsync = createAsyncThunk(\n  'orders/addOrder',\n  async (data) => {\n    const response = await addOrder(\n      data.token, data.myCartItems, data.subtotal, data.discount, data.orderTotal);\n    return response.data;\n  }\n);\n\nexport const getOrdersAsync = createAsyncThunk(\n  'orders/getOrders',\n  async (data) => {\n    const response = await getOrders(data.token);\n    \n    return response.data;\n  }\n);\nexport const getOrderDetailsAsync = createAsyncThunk(\n  'orders/getOrderDetails',\n  async (data) => {\n    const response = await getOrderDetails(data.token);\n    return response.data;\n  }\n);\n\nexport const OrderSlice = createSlice({\n  name: 'orders',\n  initialState,\n  reducers: {\n    clearCart: () => {\n      localStorage.setItem(\"cartItems\", JSON.stringify([]))\n      \n    },\n    pushToOrders: (state) => {\n    },\n\n  },\n  // happens when async is done - callback\n  // async (3)\n  extraReducers: (builder) => {\n    builder\n    .addCase(addOrderAsync.fulfilled, (state, action) => {\n    })\n    .addCase(getOrdersAsync.fulfilled, (state, action) => {\n      state.myorders=action.payload\n    })\n    .addCase(getOrderDetailsAsync.fulfilled, (state, action) => {\n      state.myOrderDetails=action.payload\n    });\n\n  },\n});\n// export of sync methods only\nexport const { clearCart } = OrderSlice.actions;\n\n// export of any part of the state\n\nexport const selectorders = (state) => state.orders.myorders;\nexport const selectorderdetails = (state) => state.orders.myOrderDetails;\nexport default OrderSlice.reducer;\n"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,SAASC,QAAT,EAAkBC,SAAlB,EAA4BC,eAA5B,QAAkD,aAAlD,C,CAGA;;AACA,MAAMC,YAAY,GAAG;EACnBC,QAAQ,EAAE,EADS;EAEnBC,cAAc,EAAE,EAFG;EAGnBC,gBAAgB,EAAC;AAHE,CAArB;AAOA,OAAO,MAAMC,aAAa,GAAGT,gBAAgB,CAC3C,iBAD2C,EAE3C,MAAOU,IAAP,IAAgB;EACd,MAAMC,QAAQ,GAAG,MAAMT,QAAQ,CAC7BQ,IAAI,CAACE,KADwB,EACjBF,IAAI,CAACG,WADY,EACCH,IAAI,CAACI,QADN,EACgBJ,IAAI,CAACK,QADrB,EAC+BL,IAAI,CAACM,UADpC,CAA/B;EAEA,OAAOL,QAAQ,CAACD,IAAhB;AACD,CAN0C,CAAtC;AASP,OAAO,MAAMO,cAAc,GAAGjB,gBAAgB,CAC5C,kBAD4C,EAE5C,MAAOU,IAAP,IAAgB;EACd,MAAMC,QAAQ,GAAG,MAAMR,SAAS,CAACO,IAAI,CAACE,KAAN,CAAhC;EAEA,OAAOD,QAAQ,CAACD,IAAhB;AACD,CAN2C,CAAvC;AAQP,OAAO,MAAMQ,oBAAoB,GAAGlB,gBAAgB,CAClD,wBADkD,EAElD,MAAOU,IAAP,IAAgB;EACd,MAAMC,QAAQ,GAAG,MAAMP,eAAe,CAACM,IAAI,CAACE,KAAN,CAAtC;EACA,OAAOD,QAAQ,CAACD,IAAhB;AACD,CALiD,CAA7C;AAQP,OAAO,MAAMS,UAAU,GAAGlB,WAAW,CAAC;EACpCmB,IAAI,EAAE,QAD8B;EAEpCf,YAFoC;EAGpCgB,QAAQ,EAAE;IACRC,SAAS,EAAE,MAAM;MACfC,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAe,EAAf,CAAlC;IAED,CAJO;IAKRC,YAAY,EAAGC,KAAD,IAAW,CACxB;EANO,CAH0B;EAYpC;EACA;EACAC,aAAa,EAAGC,OAAD,IAAa;IAC1BA,OAAO,CACNC,OADD,CACStB,aAAa,CAACuB,SADvB,EACkC,CAACJ,KAAD,EAAQK,MAAR,KAAmB,CACpD,CAFD,EAGCF,OAHD,CAGSd,cAAc,CAACe,SAHxB,EAGmC,CAACJ,KAAD,EAAQK,MAAR,KAAmB;MACpDL,KAAK,CAACtB,QAAN,GAAe2B,MAAM,CAACC,OAAtB;IACD,CALD,EAMCH,OAND,CAMSb,oBAAoB,CAACc,SAN9B,EAMyC,CAACJ,KAAD,EAAQK,MAAR,KAAmB;MAC1DL,KAAK,CAACrB,cAAN,GAAqB0B,MAAM,CAACC,OAA5B;IACD,CARD;EAUD;AAzBmC,CAAD,CAA9B,C,CA2BP;;AACA,OAAO,MAAM;EAAEZ;AAAF,IAAgBH,UAAU,CAACgB,OAAjC,C,CAEP;;AAEA,OAAO,MAAMC,YAAY,GAAIR,KAAD,IAAWA,KAAK,CAACS,MAAN,CAAa/B,QAA7C;AACP,OAAO,MAAMgC,kBAAkB,GAAIV,KAAD,IAAWA,KAAK,CAACS,MAAN,CAAa9B,cAAnD;AACP,eAAeY,UAAU,CAACoB,OAA1B"},"metadata":{},"sourceType":"module"}